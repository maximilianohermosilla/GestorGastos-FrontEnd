<div id="container__balance" class="parallax-container container__balance">
    <div class="section__balance">
        <div class="container">
            <div class="d-flex justify-content-center gap-3">
                <mat-form-field color="primary" appearance="fill" hidden>
                    <mat-label>Año</mat-label>
                    <input matInput [formControl]="anio" [matDatepicker]="dpAnio">
                    <mat-datepicker-toggle matSuffix [for]="dpAnio"></mat-datepicker-toggle>
                    <mat-datepicker #dpAnio startView="multi-year" (yearSelected)="setYear($event, dpAnio)"
                        panelClass="example-month-picker">
                    </mat-datepicker>
                </mat-form-field>
                <mat-form-field color="primary" appearance="fill">
                    <mat-label>Periodo</mat-label>
                    <input matInput placeholder="AAAA/MM" [formControl]="periodo" [matDatepicker]="dp">
                    <mat-datepicker-toggle matIconSuffix [for]="dp"></mat-datepicker-toggle>
                    <mat-datepicker #dp startView="multi-year" (monthSelected)="setMonthAndYear($event, dp)"
                        panelClass="example-month-picker">
                    </mat-datepicker>
                </mat-form-field>       
            </div>
            <div class="d-none justify-content-center gap-3">
                <button mat-flat-button color="warn" class="rounded-1" (click)="getRegistros('')">Registros</button>
                <button mat-flat-button color="primary" class="rounded-1" (click)="getIngresos('')">Ingresos</button>
            </div>

            <div class="row shadow p-2">
                <div class="col-12 col-sm-6 chart__container">
                    <mat-card-header class="d-flex text-center justify-content-center">
                        <h6 class="border-bottom border-success pb-2 px-3">Categorías de gastos</h6>
                    </mat-card-header> 
                    <app-chart-bar-vertical-balance                        
                        class="d-flex justify-content-center gap-2"
                        [dataRegistros]="listaRegistros"
                        [dataIngresos]="listaIngresos"
                        [hidden]="listaRegistros.length==0 && listaIngresos.length==0"
                    ></app-chart-bar-vertical-balance>
                </div>
                
                <div class="col-12 col-sm-6 chart__container">
                    <mat-card-header class="d-flex text-center justify-content-center">
                        <h6 class="border-bottom border-success pb-2 px-3">Balance Ingresos/Egresos</h6>
                    </mat-card-header> 
                    <app-chart-pie-balance 
                        class="d-flex justify-content-center gap-2"
                        [dataRegistros]="listaRegistros"
                        [dataIngresos]="listaIngresos"
                        [hidden]="listaRegistros.length==0 && listaIngresos.length==0"
                    ></app-chart-pie-balance>
                </div>
              
                <div class="col-12 col-sm-6 grilla">
                    <app-grilla-card [data]="listaRegistros"></app-grilla-card>
                </div>
                <div class="col-12 col-sm-6 grilla">
                   <app-grilla-card-ingreso [data]="listaIngresos"></app-grilla-card-ingreso>
                </div>
                <div class="row d-none">
                    <div class="col-6 d-flex flex-column justify-content-start gap-3 py-3">
                        <h5>Categoria Gastos</h5>
                        <div class="center" *ngFor="let cat of listaCategoriaGasto">
                            <button mat-fab color="primary"
                                [ngStyle]="{backgroundColor: cat.color, color: '#000', opacity: 0.7}"
                                aria-label="Categoria gasto" class="me-2">
                                <mat-icon>{{cat.icono}}</mat-icon>
                            </button>
                            {{cat.nombre}}
                        </div>
                    </div>
                    <div class="col-6 d-flex flex-column justify-content-start gap-3 py-3">
                        <h5>Categoria Ingresos</h5>
                        <div class="center" *ngFor="let cat of listaCategoriaIngreso">
                            <button mat-fab color="primary"
                                [ngStyle]="{backgroundColor: cat.color, color: '#000', opacity: 0.7}"
                                aria-label="Categoria gasto" class="me-2">
                                <mat-icon>{{cat.icono}}</mat-icon>
                            </button>
                            {{cat.nombre}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>